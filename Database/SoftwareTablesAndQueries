
CREATE TABLE SERVER( 
	Suser_name VARCHAR(100) NOT NULL,
	Spassword VARCHAR(100) NOT NULL,
	Sstatus VARCHAR(100) NOT NULL,
	Sip_address BLOB NOT NULL,
	PRIMARY KEY(Suser_name)
)ENGINE=InnoDB;

CREATE TABLE REGISTERED_USER(
	Remail VARCHAR(100) NOT NULL,
	Rpassword VARCHAR(100) NOT NULL,
	Rfirst_name VARCHAR(100) NOT NULL,
	Rlast_name VARCHAR(100) NOT NULL,
	Rorganization VARCHAR(100) NOT NULL,
	Rskill_level VARCHAR (100) NOT NULL,
	PRIMARY KEY(Remail)
)ENGINE=InnoDB;

CREATE TABLE USER_HISTORY(
	Remail VARCHAR(100) NOT NULL,
	Workshop VARCHAR(100) NOT NULL,
	PRIMARY KEY(Remail,Workshop),
	FOREIGN KEY (Remail) REFERENCES REGISTERED_USER(Remail)
)ENGINE=InnoDB;

CREATE TABLE VIRTUAL_MACHINE(
	VMname VARCHAR(100) NOT NULL,
	VMvrdp INT NOT NULL,
	VMrecent_snapshot VARCHAR(254) NOT NULL,
	VMhost_server BLOB NOT NULL,
	PRIMARY KEY(VMname)
)ENGINE=InnoDB;

CREATE TABLE VM_NetAdapters(
	VMname VARCHAR(100) NOT NULL,
	Network_Adapter VARCHAR(255) NOT NULL,
	PRIMARY KEY(VMname,Network_Adapter),
	FOREIGN KEY(VMname) REFERENCES VIRTUAL_MACHINE(VMname) ON UPDATE CASCADE ON DELETE CASCADE
)ENGINE=InnoDB;

